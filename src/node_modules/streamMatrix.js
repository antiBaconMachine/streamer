'use strict';

exports.row = function(row) {
    return row.reduce((prev, stream) => {
        if (prev) {
            return stream ? prev.pipe(stream) : prev;
        }
        return stream;
    }, null);
};

const filter = exports.filter = function(matrix, cb){
    return matrix.map(row => row.filter(cb));
};

exports.transforms = function(matrix){
    return filter(matrix, s => s._read && s._write);
};
